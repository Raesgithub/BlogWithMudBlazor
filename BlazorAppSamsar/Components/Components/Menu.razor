@using BlazorAppSamsar.Components.Layout
@using Microsoft.AspNetCore.Components.Authorization
<MudAppBar Elevation="1" Style="z-index:9999999">
    <MudIconButton Icon="@Icons.Material.Filled.Menu"
                   @rendermode="@RenderMode.InteractiveServer"
                   Color="Color.Inherit"
                   Edge="Edge.Start"
                   OnClick="DrawerToggle" />
    <MudText Typo="Typo.h5" Class="ml-3">مقال جو</MudText>
    <MudSpacer />

</MudAppBar>
@if (_drawerOpen)
{
    <MudDrawer ClipMode="DrawerClipMode.Always" Elevation="1" Style="background:#56ACD6;height:100vh;right:0;display:flex !important;top:60px;padding-bottom:10px">
        <MudPaper Style="background:#56ACD6" Width="250px" Class="d-inline-flex py-3 " Elevation="0">
            <MudNavMenu  Class="mud-width-full">

                <MudNavLink  OnClick='() => GotoLink("/")' Icon="@Icons.Material.Filled.Dashboard">مقالات</MudNavLink>
                <MudNavLink  OnClick='() => GotoLink("/auth/login")' Icon="@Icons.Material.Filled.Login">ورود</MudNavLink>
                <MudNavLink  OnClick='() => GotoLink("/auth/register")' Icon="@Icons.Material.Filled.GroupAdd">ثبت نام</MudNavLink>
            </MudNavMenu>
        </MudPaper>
    </MudDrawer>
}
@inject NavigationManager nav
@rendermode InteractiveServer
@code {
    private bool _drawerOpen = false;

    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
        StateHasChanged();
    }
    private void GotoLink(string url, bool isReload = false)
    {
        nav.NavigateTo(url, isReload);
        DrawerToggle();


    }
}
